{% extends 'base.html' %}
{% load static %}
{% block body %}
<script src="https://cdn.bootcss.com/echarts/4.2.1-rc1/echarts.min.js"></script>
<!-- Home -->

<!--<div class="home">-->
<!--	&lt;!&ndash; Home Slider &ndash;&gt;-->
<!--	<div class="home_slider_container">-->
<!--		<div class="owl-carousel owl-theme home_slider">-->
<!--			&lt;!&ndash; Slide &ndash;&gt;-->
<!--			<div class="owl-item">-->


<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->
<div class="destinations" id="destinations" style="background-color: #d1b8ff;padding-top: 15px" >
    <div class="row destinations_row">
				<div class="col">
					<div class="destinations_container item_grid">
                        <div class="destination item" style="border: 1px dashed #000000;left: 20px;width: 20%">
                            啊啊啊啊啊啊啊
                        </div>

                        <div class="destination item" style="border: 1px dashed #000000;left: 100%;width: 80%">

                            <div id="main" style="width: 100%;height:400px;"></div>
    <script type="text/javascript">

    var symbolSize = 20;
    var data = [[15, 0], [-50, 10], [-56.5, 20], [-46.5, 30], [-22.1, 40]];

    var myChart = echarts.init(document.getElementById('main'));

    myChart.setOption({
        title : {
            text: '可移动图表',
            x: 'center'
        },
        tooltip: {
            triggerOn: 'none',
            formatter: function (params) {
                return 'X: ' + params.data[0].toFixed(2) + '<br>Y: ' + params.data[1].toFixed(2);
            }
        },
        dataZoom: [
        {   // 这个dataZoom组件，默认控制x轴。
            type: 'slider', // 这个 dataZoom 组件是 slider 型 dataZoom 组件
            xAxisIndex: 0,
            start: 0,      // 左边在 10% 的位置。
            end: 100         // 右边在 60% 的位置。
        },
            {   // 这个dataZoom组件，也控制x轴。
            type: 'inside', // 这个 dataZoom 组件是 inside 型 dataZoom 组件
            xAxisIndex: 0,
            start: 0,      // 左边在 10% 的位置。
            end: 100         // 右边在 60% 的位置。
        },
        //     {   // 这个dataZoom组件，默认控制x轴。
        //     type: 'slider', // 这个 dataZoom 组件是 slider 型 dataZoom 组件
        //     yAxisIndex: 0,
        //      start: 10,      // 左边在 10% 的位置。
        //     end: 60         // 右边在 60% 的位置。
        // },
        //     {   // 这个dataZoom组件，也控制x轴。
        //     type: 'inside', // 这个 dataZoom 组件是 inside 型 dataZoom 组件
        //     yAxisIndex: 0,
        //     start: 10,      // 左边在 10% 的位置。
        //     end: 60         // 右边在 60% 的位置。
        // }
        ],
        xAxis: {
            min: -100,
            max: 80,
            type: 'value',
            axisLine: {onZero: false}
        },
        yAxis: {
            min: -30,
            max: 60,
            type: 'value',
            axisLine: {onZero: false}
        },
        series: [
            {
                id: 'a',
                type: 'line',
                smooth: true,
                symbolSize: symbolSize,
                data: data
            }
        ],
    });

    myChart.setOption({
        graphic: echarts.util.map(data, function (item, dataIndex) {
            return {
                type: 'circle',
                position: myChart.convertToPixel('grid', item),
                shape: {
                    r: symbolSize / 2
                },
                invisible: true,
                draggable: true,
                ondrag: echarts.util.curry(onPointDragging, dataIndex),
                onmousemove: echarts.util.curry(showTooltip, dataIndex),
                onmouseout: echarts.util.curry(hideTooltip, dataIndex),
                z: 100
            };
        })
    });

    window.addEventListener('resize', function () {
        myChart.setOption({
            graphic: echarts.util.map(data, function (item, dataIndex) {
                return {
                    position: myChart.convertToPixel('grid', item)
                };
            })
        });
    });

    function showTooltip(dataIndex) {
        myChart.dispatchAction({
            type: 'showTip',
            seriesIndex: 0,
            dataIndex: dataIndex
        });
    }

    function hideTooltip(dataIndex) {
        myChart.dispatchAction({
            type: 'hideTip'
        });
    }

    function onPointDragging(dataIndex, dx, dy) {
        data[dataIndex] = myChart.convertFromPixel('grid', this.position);
        myChart.setOption({
            series: [{
                id: 'a',
                data: data
            }]
        });
    }

</script>

                        </div>


					</div>
				</div>
			</div>
		</div>
<div class="destinations" id="destinations" style="background-color: #d1b8ff;padding-top: 15px" >
    <div class="row destinations_row">
				<div class="col">
					<div class="destinations_container item_grid">
                        <div class="destination item" style="border: 1px dashed #000000;left: 20px;width: 20%">
                            啊啊啊啊啊啊啊
                        </div>

                        <div class="destination item" style="border: 1px dashed #000000;left: 100%;width: 80%">

                            <div id="main" style="width: 100%;height:400px;"></div>
    <script type="text/javascript">

    var symbolSize = 20;
    var data = [[15, 0], [-50, 10], [-56.5, 20], [-46.5, 30], [-22.1, 40]];

    var myChart = echarts.init(document.getElementById('main'));

    myChart.setOption({
        title : {
            text: '可移动图表',
            x: 'center'
        },
        tooltip: {
            triggerOn: 'none',
            formatter: function (params) {
                return 'X: ' + params.data[0].toFixed(2) + '<br>Y: ' + params.data[1].toFixed(2);
            }
        },
        dataZoom: [
        {   // 这个dataZoom组件，默认控制x轴。
            type: 'slider', // 这个 dataZoom 组件是 slider 型 dataZoom 组件
            xAxisIndex: 0,
            start: 0,      // 左边在 10% 的位置。
            end: 100         // 右边在 60% 的位置。
        },
            {   // 这个dataZoom组件，也控制x轴。
            type: 'inside', // 这个 dataZoom 组件是 inside 型 dataZoom 组件
            xAxisIndex: 0,
            start: 0,      // 左边在 10% 的位置。
            end: 100         // 右边在 60% 的位置。
        },
        //     {   // 这个dataZoom组件，默认控制x轴。
        //     type: 'slider', // 这个 dataZoom 组件是 slider 型 dataZoom 组件
        //     yAxisIndex: 0,
        //      start: 10,      // 左边在 10% 的位置。
        //     end: 60         // 右边在 60% 的位置。
        // },
        //     {   // 这个dataZoom组件，也控制x轴。
        //     type: 'inside', // 这个 dataZoom 组件是 inside 型 dataZoom 组件
        //     yAxisIndex: 0,
        //     start: 10,      // 左边在 10% 的位置。
        //     end: 60         // 右边在 60% 的位置。
        // }
        ],
        xAxis: {
            min: -100,
            max: 80,
            type: 'value',
            axisLine: {onZero: false}
        },
        yAxis: {
            min: -30,
            max: 60,
            type: 'value',
            axisLine: {onZero: false}
        },
        series: [
            {
                id: 'a',
                type: 'line',
                smooth: true,
                symbolSize: symbolSize,
                data: data
            }
        ],
    });

    myChart.setOption({
        graphic: echarts.util.map(data, function (item, dataIndex) {
            return {
                type: 'circle',
                position: myChart.convertToPixel('grid', item),
                shape: {
                    r: symbolSize / 2
                },
                invisible: true,
                draggable: true,
                ondrag: echarts.util.curry(onPointDragging, dataIndex),
                onmousemove: echarts.util.curry(showTooltip, dataIndex),
                onmouseout: echarts.util.curry(hideTooltip, dataIndex),
                z: 100
            };
        })
    });

    window.addEventListener('resize', function () {
        myChart.setOption({
            graphic: echarts.util.map(data, function (item, dataIndex) {
                return {
                    position: myChart.convertToPixel('grid', item)
                };
            })
        });
    });

    function showTooltip(dataIndex) {
        myChart.dispatchAction({
            type: 'showTip',
            seriesIndex: 0,
            dataIndex: dataIndex
        });
    }

    function hideTooltip(dataIndex) {
        myChart.dispatchAction({
            type: 'hideTip'
        });
    }

    function onPointDragging(dataIndex, dx, dy) {
        data[dataIndex] = myChart.convertFromPixel('grid', this.position);
        myChart.setOption({
            series: [{
                id: 'a',
                data: data
            }]
        });
    }

</script>

                        </div>


					</div>
				</div>
			</div>
		</div>

{% endblock body %}